/****************************************************************************
 ** @license
 ** This file is part of yFiles for HTML 2.5.0.1.
 **
 ** yWorks proprietary/confidential. Use is subject to license terms.
 **
 ** Copyright (c) 2022 by yWorks GmbH, Vor dem Kreuzberg 28,
 ** 72070 Tuebingen, Germany. All rights reserved.
 **
 ***************************************************************************/
import y from "./core.js";import l from "./lang.js";import _a_ from "./algorithms.js";import _b_ from "./layout-core.js";_a_.lang=l,_b_.lang=l,function($, f, n, t){"use strict";function r($, f){if($.$m20(f)){var n=Math.max($.$f.$Jfb(f),$.$f.$Bgb(f));return $.$f4.$xd(f,n),n}for(var t=$.$f3.$fjb(f),i=0,a=Number.MAX_VALUE,e=t.$HWa(); e.$Ti; e.$Cn()){var u=e.$fj;a=Math.min(a,r($,u)),i+=$.$f4.$pd(u)}return $.$f4.$xd(f,i),a}function i(f, n){if(f.$f18.$xd(n,$.T.DUC.$f),f.$m20(n))f.$f.$BFb(n,0,0),s(f,n);else{for(var t=f.$f3.$fjb(n),r=-Number.MAX_VALUE,u=t.$HWa(); u.$Ti; u.$Cn()){var o=i(f,u.$fj);r=Math.max(r,o)}r=f.$m40(n)*r,r=Math.max(r,$.IHA.$m(f.$f,n)),f.$f54&&(r=Math.max(r,$.IHA.$m2(f.$f,n,f.$f14))),function(f, n, t, r){var i=null===f.$f3.$wgb(n),e=i?f.$f24:$.T.DUC.$f4,u=r,h=$.T.DIB.$n();for(; !a(f,n,t,u,h,e);)r=u,u*=2;for(; u-r>.1;){var o=r+(u-r)/2;a(f,n,t,o,h,e)?u=o:r=o}i&&(f.$f18.$xd(n,$.T.DUC.$f),f.$f26);for(var l=$.GF.$m12(t.$f1),s=t.$HWa(); s.$Ti; s.$Cn()){var b=s.$fj;l[f.$f25.$To(b)]=b}for(var m=0,s=t.$HWa(); s.$Ti; s.$Cn()){var b=s.$fj,C=h.$No(b);m+=$.YE.$m13(C.$f1)-$.YE.$m13(C.$f)}!function(f, n, t, r, i, a, e, u){var h=new $.IHA(f);f.$f.$rFb(n,2*r,2*r),f.$f.$FAb(n,t);for(var o=0; o<i.length; o++){var l=i[o],s=Math.min(f.$f.$Jfb(l),f.$f.$Bgb(l))/2,b=f.$f46?f.$f20.$pd(l):f.$f41,m=r+s*(1-b),C=new $.C.LGB.$b(t.$f+m*Math.cos($.T.DUC.$f),t.$f1+m*Math.sin($.T.DUC.$f)),c=new $.C.OGB.$c(C,f.$f.$Agb(l));h.$m14(l,c),f.$f18.$xd(l,$.T.DUC.$f)}var v=(e-u)/(i.length+1),T=v;if(null!==f.$f3.$wgb(n)){var g=$.T.YFB.$b(5);if(v>g){var w=(i.length-1)*(v-g);T+=w/2,v=g}}for(var M=f.$f18.$pd(n)-e/2+T,o=0; o<i.length; o++){var l=i[o],d=a.$No(l),B=$.YE.$m13(d.$f),A=$.YE.$m13(d.$f1)-B;h.$m19(l,M-B,f.$f53),M+=A+v}}(f,n,new $.C.LGB.$b(0,0),u,l,h,e,m)}(f,n,t,r),s(f,n),f.$f36&&f.$f31.$ld(n)&&function(f, n){if(f.$m20(n))return;var t=new $.C.KHB.$a,r=new $.C.KHB.$a;h(f,n,r,t);for(var i=f.$f.$Agb(n),a=Math.min(f.$f.$Jfb(n),f.$f.$Bgb(n))/2,u=$.T.DIB.$n(),o=t.$HWa(); o.$Ti; o.$Cn()){var l=o.$fj;f.$f18.$xd(l,$.T.DUC.$f),s(f,l)}var b=e(f,n,t,a,u,!0);f.$f.$FAb(n,i),function(f, n, t, r, i, a){for(var e=new $.IHA(f),u=f.$f.$Agb(n),h=r.$HWa(); h.$Ti; h.$Cn()){var o=h.$fj,l=Math.min(f.$f.$Jfb(o),f.$f.$Bgb(o))/2,s=f.$f46?f.$f20.$pd(o):f.$f41,b=t+l*(1-s),m=new $.C.LGB.$b(u.$f+b*Math.cos($.T.DUC.$f),u.$f1+b*Math.sin($.T.DUC.$f)),C=new $.C.OGB.$c(m,f.$f.$Agb(o));e.$m14(o,C),f.$f18.$xd(o,$.T.DUC.$f)}for(var c=null===f.$f3.$wgb(n)?f.$f24:$.T.DUC.$f4,v=(c-a)/(r.$f1+1),T=f.$f18.$pd(n)-c/2+v,h=r.$HWa(); h.$Ti; h.$Cn()){var o=h.$fj,g=i.$No(o),w=$.YE.$m13(g.$f),M=$.YE.$m13(g.$f1)-w;e.$m23(n,o,T-w,f.$f53),T+=M+v}}(f,n,a,t,u,b),r.$qdb(new $.T.DUC.T3(f));for(var m=2*a,o=r.$HWa(); o.$Ti; o.$Cn()){var l=o.$fj;f.$f18.$xd(l,$.T.DUC.$f);var C=f.$f.$Bgb(l);m-C<5&&m-5>0&&(C=m-5,f.$f.$rFb(l,C,C)),f.$f.$FAb(l,i),m=C}}(f,n)}return Math.min(f.$f.$Jfb(n),f.$f.$Bgb(n))/2}function a(f, n, t, r, i, a){var u=e(f,n,t,r,i,!1),h=0;if(!f.$f10&&(f.$f17||f.$f36&&f.$f31.$ld(n))){var o=new $.IHA(f),l=new $.C.KHB.$a;o.$m11(n,l),h=e(f,n,l,r,$.T.DIB.$h($.GF.$m12(f.$f.$iU)),!0),u=Math.max(u,h)}return function($){return 1.1*$}(u)<=a}function e(f, n, t, r, i, a){for(var e=new $.IHA(f),u=0,h=t.$HWa(); h.$Ti; h.$Cn()){var o,l=h.$fj,s=f.$f.$Agb(l),b=r+Math.min(f.$f.$Jfb(l),f.$f.$Bgb(l))/2*(1-(f.$f46?f.$f20.$pd(l):f.$f41));f.$f.$BFb(n,s.$f-b*Math.cos($.T.DUC.$f),s.$f1-b*Math.sin($.T.DUC.$f));var m=$.T.DUC.$f-Math.PI;o=a?e.$m24(n,l,m,!1):e.$m22(l,n,m),u+=$.YE.$m13(o.$f1)-$.YE.$m13(o.$f);var C=$.T.OGB.$k($.YE.$m13(o.$f),m),c=$.T.OGB.$k($.YE.$m13(o.$f1),m);i.$qu(l,new $.JC(C,c))}return u}function u(f, n, t, r, i, a){var e=a?f.$f24:$.T.DUC.$f4;f.$f18.$xd(n,$.T.OGB.$k(i,e/2));var s=f.$m20(n);if(!s)if(f.$f36&&f.$f31.$ld(n))!function(f, n, t, r, i, a){var e=a?f.$f24:$.T.DUC.$f4,s=new $.C.KHB.$a,b=new $.C.KHB.$a;h(f,n,s,b);var m=new $.QE,C=0|$.YE.$m4(f.$f4.$pd(n));m.$wd(C,1);for(var c=s.$HWa(); c.$Ti; c.$Cn()){var v=c.$fj;f.$f18.$xd(v,$.T.OGB.$k(i,e/2));var T=2*($.T.DUC.$f5?f.$f7.$pd(v):l(f,v)),g=C=0|$.YE.$m4(f.$f4.$pd(n));if(m.$Xb(g)){var w=$.YE.$m8(m.$md(g))+1;m.$wd(g,w);var M=Math.pow(.3,w)*T;T-=M}else m.$wd(g,1);f.$f.$rFb(v,T,T),f.$f.$BFb(v,t,r)}for(var d=f.$f4.$pd(n),c=b.$HWa(); c.$Ti; c.$Cn()){var B=c.$fj,A=f.$f4.$pd(B);i+=A/d*e/2;var D=t+o(f,n,B)*Math.cos(i),p=r+o(f,n,B)*Math.sin(i);u(f,B,D,p,i-$.T.DUC.$f4/2,!1),i+=A/d*e/2}}(f,n,t,r,i,a);else{for(var b=f.$f4.$pd(n),m=f.$f3.$fjb(n),C=$.GF.$m12(m.$f1),c=m.$HWa(); c.$Ti; c.$Cn()){var v=c.$fj;C[f.$f25.$To(v)]=v}for(var T=0; T<C.length; T++){v=C[T];var g=f.$f4.$pd(v);i+=g/b*e/2,u(f,v,t+o(f,n,v)*Math.cos(i),r+o(f,n,v)*Math.sin(i),i-$.T.DUC.$f4/2,!1),i+=g/b*e/2}}var w=2*($.T.DUC.$f5?f.$f7.$pd(n):l(f,n));s||f.$f.$rFb(n,w,w),f.$f.$BFb(n,t,r)}function h(f, n, t, r){if(!f.$m20(n)){for(var i=new $.C.KHB.$f(f.$f3.$fjb(n)),a=$.GF.$m12(i.$f1),e=i.$HWa(); e.$Ti; e.$Cn()){var u=e.$fj;a[f.$f25.$To(u)]=u}for(var o=0; o<a.length; o++){var l=a[o];f.$m20(l)?r.$m6(l):(t.$m6(l),h(f,l,t,r))}}}function o(f, n, t){var r=f.$f46?f.$f20.$pd(t):f.$f41;return($.T.DUC.$f5?f.$f7.$pd(n):l(f,n))+($.T.DUC.$f5?f.$f7.$pd(t):l(f,t))*(1-r)}function l($, f){return $.$m20(f)?Math.min($.$f.$Jfb(f),$.$f.$Bgb(f))/2:Math.max(function($, f){for(var n=$.$f3.$umb(f),t=Number.MIN_VALUE,r=n.$HWa(); r.$Ti; r.$Cn()){var i=r.$fj;$.$m20(i)&&(t=Math.max(t,$.$f4.$pd(i)))}return t*$.$f5/2}($,f),Math.pow($.$f4.$pd(f),$.$f9)*($.$f5/2))}function s(f, n){var t=f.$f.$m41(n);f.$m20(n)&&2!==f.$f22?function(f, n, t){var r=new $.KE.$c1($.LE.$m3(t));$.T.DUC.$m2(r,new $.T.DUC.T2);var i=function(f){if(f<0)throw $.MG.$m28(Q[9]);if(0===f)return 0;if(f<=5)return Math.PI/(2*(f%2!==0?f:f+1));return Math.PI/(f%2===0?f:f+1)}(r.$Tb),a=f.$f18.$pd(n)-i*Math.floor(t.length/2);t.length%2===0&&(a+=i/2);for(var e=Math.max(f.$f.$Jfb(n),f.$f.$Bgb(n))/2+f.$f14,u=0; u<r.$Tb; u++){var h=f.$f.$Agb(n),o=r.$Wb(u),l=o.$Sl,s=e*Math.cos(a),b=e*Math.sin(a),m=new $.C.LGB.$b(h.$f+s,h.$f1+b),C=new $.C.OGB.$c(h,m),c=$.T.OGB.$f(C);$.T.DUC.$f1&&c.$fC<0?c.$ydb(-1):m=m.$Czb(o.$Sl.$DF*Math.cos(a),o.$Sl.$DF*Math.sin(a)),c.$ydb(l.$CK/2);var v=m.$Czb(c.$eC,c.$fC);c.$nWa(),c.$ydb(-1);var T=new $.C.KGB.$d(v,l.$mD,c);o.$wm=o.$xl.$Uw(T,f.$f.$m38(n)),a+=i}}(f,n,t):function(f, n, t){var r=new $.KE.$c1($.LE.$m3(t));$.T.DUC.$m2(r,new $.T.DUC.T4);for(var i=-f.$f14,a=0; a<t.length; a++)i+=t[a].$Sl.$CK,i+=f.$f14;var e=-.5*i,u=0===f.$f22&&null!==f.$f3.$wgb(n)?f.$f18.$pd(n)+Math.PI/2:$.T.DUC.$f;Math.sin(u)<0&&(u+=Math.PI);for(var h,o,l=new $.C.OGB.$b(-Math.cos(u),-Math.sin(u)),s=f.$f.$Agb(n),a=0; a<r.$Tb; a++){var b=r.$Wb(a),m=b.$Sl,C=m.$CK;e+=.5*C,(o=new $.C.OGB.$a(l)).$ydb(e),h=s.$Czb(o.$eC,o.$fC),m.$jBb(l.$eC,l.$fC),m.$BK=h,b.$wm=b.$xl.$Uw(m,f.$f.$m38(n)),e+=.5*C+f.$f14}}(f,n,t)}function b($, f){if(!$.$m20(f)){var n=$.$f3.$fjb(f);if(null===n)return;for(var t=n.$HWa(); t.$Ti; t.$Cn())m($,t.$fj)}}function m($, f){if(!$.$m20(f)){var n=$.$f3.$fjb(f);if(null===n||0===n.$f1)return;$.$f21.$td(f,!0);for(var t=n.$HWa(); t.$Ti; t.$Cn())m($,t.$fj)}}function C(f){$.T.QXC.$o(f.$f,!0),function(f){f.$f42=$.T.DIB.$h($.GF.$m12(f.$f.$iU)),f.$f47=$.T.DIB.$h($.GF.$m12(f.$f.$iU)),f.$f51=$.T.DIB.$h($.GF.$m12(f.$f.$iU)),f.$f52=$.T.DIB.$h($.GF.$m12(f.$f.$iU));for(var n=f.$f.$TZa(); n.$Ti; n.$Cn()){var t=n.$fj,r=f.$m20(t);f.$f42.$qu(t,T(f,t,!0,r)),f.$f47.$qu(t,T(f,t,!1,r)),r||(f.$f51.$qu(t,T(f,t,!0,!0)),f.$f52.$qu(t,T(f,t,!1,!0)))}}(f);for(var n=$.T.A.$d(f.$f),t=n.$DWa(),r=50,i=f.$f.$Dmb($.O.$p117),a=f.$f.$SZa(); a.$Ti; a.$Cn()){var e=a.$ej,u=e.$f2,h=e.$f3;if(f.$f3.$wgb(u)!==h&&f.$f3.$wgb(h)!==u){c(f,e,i);var o=v(f,u,h);r<=0&&(t=n.$DWa(),r=50),r--;var l=new $.C.EIB.$a;if(!t&&f.$f27&&o.$Tb>0){var s=$.WJA.$m3(o,f.$f13),b=$.WJA.$m2(s,!1);l.$Ldb(b)}else l.$Ldb(o);f.$f.$HAb(e,l)}}if(!t&&f.$f19){var m=new $.C.JUC(null);m.$jga=$.T.DUC.$f2,m.$Lp(f.$f)}}function c($, f, n){var t=$.$f6.$pPa;if(null!==n){var r=n.$No(f);t=null===r?t:r}$.$f27=t.$aQ,$.$f19=t.$Vla,$.$f48=t.$Lza,$.$f40=$.$f27||$.$f48,$.$f27&&($.$f13=$.$f6.$cxa)}function v(f, n, t){var r=function(f, n, t){if(t===n)return null;var r=n,i=$.DC.$m();for(; null!==r;){if((r=f.$f3.$wgb(r))===t)return t;i.add(r)}r=t;for(; null!==r;){if((r=f.$f3.$wgb(r))===n)return n;if(i.has(r))return r}return null}(f,n,t),i=new $.KE,a=f.$f27||f.$f48;a&&n!==B(f)&&n!==r&&(f.$f48?i.$m(f.$m20(n)?f.$f42.$No(n):f.$f51.$No(n)):i.$m(f.$f.$Agb(n)));for(var e=n!==r,u=function(f, n, t, r){var i=new $.C.KHB.$a;if(null===r){var a=null===f.$f3.$wgb(n),e=null===f.$f3.$wgb(t);if(a&&e)return i;if(a)return M(f,i,f.$f3.$wgb(t),n),i;if(e)return g(f,i,f.$f3.$wgb(n),t),i}if(r===n)return M(f,i,f.$f3.$wgb(t),n),i;if(r===t)return g(f,i,f.$f3.$wgb(n),t),i;return g(f,i,f.$f3.$wgb(n),r),i.$m6(r),M(f,i,f.$f3.$wgb(t),r),i}(f,n,t,r).$HWa(); u.$Ti; u.$Cn()){var h=u.$fj;h!==r?f.$f36&&f.$f21.$ld(h)||(f.$f40&&!e&&i.$m(A(f,h,f.$f3.$wgb(h))),f.$f48?i.$m(e?f.$f42.$No(h):f.$f47.$No(h)):i.$m(f.$f.$Agb(h)),f.$f40&&e&&i.$m(A(f,h,f.$f3.$wgb(h)))):(e=!1,i.$m(f.$f.$Agb(h)))}return a&&t!==B(f)&&t!==r&&(f.$f48?i.$m(f.$m20(t)?f.$f47.$No(t):f.$f52.$No(t)):i.$m(f.$f.$Agb(t))),i}function T(f, n, t, r){var i,a=f.$f3.$wgb(n),e=f.$f.$Agb(n);if(r&&null===a)return e;var u,h=f.$f.$Jfb(n)/2;return r?(i=Math.PI+f.$f18.$pd(n)+$.T.DUC.$m3(e,f.$f.$Agb(a),T(f,a,t,!1)),u=e.$Czb(h*Math.cos(i),h*Math.sin(i))):(i=f.$f18.$pd(n),t?i+=Math.PI/2:i-=Math.PI/2,u=e.$Czb($.T.DUC.$f3*h*Math.cos(i),$.T.DUC.$f3*h*Math.sin(i))),u}function g($, f, n, t){null===n||n.equals(t)||($.$f36&&$.$f21.$ld(n)||f.$m6(n),g($,f,$.$f3.$wgb(n),t))}function w(f, n){f.$f25=f.$f.$RZa(),f.$f25.$wu(n,0),function f(n, t, r){if(n.$m20(t))return;var i=n.$f3.$fjb(t);var a=function(f, n, t){var r=!0,i=!1;if(f.$f35){i=n.$f1>1,r=n.$f1>1;var a=new $.T.DUC.T(f,t,function(f, n){var t=f.$f3.$wgb(n);if(null===t)return($.T.DUC.$f%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(f.$f26&&null===f.$f3.$wgb(t))return function(f, n){if(!f.$f26)throw $.MG.$m11();for(var t=f.$f3.$fjb(f.$f3.$CE).$mYa(),r=f.$f3.$fjb(t),i=0,a=0,e=r.$HWa(); e.$Ti; e.$Cn()){var u=e.$fj,h=f.$f.$Agb(u);i+=h.$f,a+=h.$f1}var o=new $.C.LGB.$b(i/r.$f1,a/r.$f1);return V(f,o,n)}(f,n);for(; f.$m45(n,t);)t=f.$f3.$wgb(t);if(null===t)return($.T.DUC.$f%(2*Math.PI)+2*Math.PI)%(2*Math.PI);return V(f,f.$f.$Agb(t),n)}(f,t),f.$f);n.$qdb(a);for(var e=n.$eZa(),u=0; u<e.length-1; u++)if(Math.abs(a.$Th(e[u],e[u+1]))>.001){i=!1,r=!1;break}}r&&(f.$f11===f.$f34?$.T.DUC.$m2(n,f.$f11):n.$qdb(f.$f11));return i}(n,i,t);var e=0;var u=!(a&&r)&&function($, f){return $.$f35||$.$f11!==$.$f34||!f}(n,r);for(var h=u?i.$f2:i.$f; null!==h; h=u?h.$pWa():h.$oWa()){var o=h.$f;n.$f25.$wu(o,e),f(n,o,!r),e++}}(f,n,!1)}function M($, f, n, t){null===n||n.equals(t)||(M($,f,$.$f3.$wgb(n),t),$.$f36&&$.$f21.$ld(n)||f.$m6(n))}function d(f){f.$f.$wlb(f.$f25),f.$f26&&(f.$f.$Ugb(B(f)),f.$f26=!1),f.$f3.$TXa(),f.$f15&&(!function(f){null!==f.$f8?f.$f.$zCb($.O.$p35,f.$f8):f.$f.$erb($.O.$p35);null!==f.$f1?f.$f.$zCb($.O.$p3,f.$f1):f.$f.$erb($.O.$p3);null!==f.$f2?f.$f.$zCb($.O.$p4,f.$f2):f.$f.$erb($.O.$p4)}(f),f.$f15=!1),f.$f=null}function B($){return $.$f3.$fjb($.$f3.$CE).$mYa()}function A(f, n, t){var r=f.$f.$Agb(n),i=f.$f.$Agb(t),a=r.$Qgb(i),e=(i.$f-r.$f)/a,u=(i.$f1-r.$f1)/a,h=f.$f.$Jfb(n)/2;return e*=h,u*=h,new $.C.LGB.$b(r.$f+e,r.$f1+u)}function D(f, n, t, r){var i=r,a=t;if(a>i)f.$f.$rFb(n,Number.MAX_VALUE,Number.MAX_VALUE);else{for(var e=a+(i-a)/2,u=!1,h=$.T.A.$d(f.$f); i-a>2*$.IHA.$f;){h.$DWa(),j(f,n,e=a+(i-a)/2),(u=null===_(f))?i=e:a=e}u||j(f,n,e=i);var o=function(f){for(var n=0,t=f.$f.$TZa(); t.$Ti; t.$Cn()){var r=t.$fj,i=!f.$f1.$hjb(r)||!f.$f1.$gjb(r);if(!i){var a=$.IHA.$m2(f.$f,r,f.$f9.$kxa),e=Math.min(f.$f.$Jfb(r),f.$f.$Bgb(r))/2;n=Math.max(n,a/e)}}return n}(f);(o=Math.max(o,function(f){var n=0;if(null!==f.$f.$Dmb($.O.$p68))for(var t=f.$f.$TZa(); t.$Ti; t.$Cn()){var r=t.$fj;if(f.$f1.$hjb(r)&&f.$f1.$gjb(r)){var i=$.IHA.$m(f.$f,r),a=Math.min(f.$f.$Jfb(r),f.$f.$Bgb(r))/2;n=Math.max(n,i/a)}}return n}(f)))>1&&(f.$m18(o,n,!0),f.$f9.$m6())}}function p($, f){var n=$.$f1.$wgb(f);if(null!==n)for(; $.$f11&&$.$f7.$ld(n);)n=$.$f1.$wgb(n);return n}function j($, f, n){$.$f9.$m32(n),$.$f9.$m39(f),$.$m5(f)}function _(f){var n;n=f.$m2();var t=new $.IHA.T3(f);try{$.T.DGB.$b(n,t)}catch(f){if(f.name===Q[11])return new $.JC(function($){var f=$.$f3;return $.$f3=null,f}(t),function($){var f=$.$f4;return $.$f4=null,f}(t));throw f}return null}function E(f, n, t){if(f.$f1.$hjb(n)&&f.$f1.$gjb(n)&&(!f.$f11||!f.$f7.$ld(n))){var r,i,a=function(f, n){var t,r=new $.C.KHB.$a;if(f.$f11&&f.$f10.$ld(n)){f.$m11(n,r),t=$.GF.$m12(r.$f1);for(var i=0,a=r.$HWa(); a.$Ti; a.$Cn(),i++){var e=a.$fj;t[i]=e}}else{r=f.$f1.$fjb(n),t=$.GF.$m12(r.$f1);for(var a=r.$HWa(); a.$Ti; a.$Cn()){var e=a.$fj;t[f.$f4.$To(e)]=e}}return t}(f,n),e=$.GF.$m11(a.length+1),u=$.GF.$m12(a.length+2),h=function(f, n){return null===f.$f1.$wgb(n)?f.$f9.$f24:$.T.DUC.$f4}(f,n),o=f.$f3.$pd(n)-h/2,l=(r=function(f, n, t, r, i, a){var e=new $.C.WFB.$b(0,Number.MAX_VALUE,a),u=e.$LAb(!1,!1);r[0]=new $.JC(u,u);for(var h=0,o=f.$f.$Agb(n),l=new $.C.LGB.$b(o.$f-50,o.$f1),s=-Number.MAX_VALUE,b=0; b<t.length; b++){var m,C=t[b],c=G(o,l,f.$f.$Agb(C))-Math.PI;c+=c<s?2*Math.PI:0;var v=(m=I(f,C,n,c)).$f,T=m.$f1;v.$rlb(c),T.$rlb(c),r[b+1]=new $.JC(v,T);var g=e.$skb(v);h+=g,e.$zjb(T),s=c}var w=f.$f3.$pd(n)+i/2,M=new $.C.WFB.$b(0,Number.MAX_VALUE,w);r[r.length-1]=new $.JC(M,M);var g=e.$skb(M);return h+=g}(f,n,a,u,h,o))<0;i=l?e.length<=2?0:r/(e.length-2):r/e.length;var s=$.GF.$m11(e.length),b=l?0:i,m=b;if(t){var C=$.T.YFB.$b(5);if(i>C)m=b=i+(e.length-2)*(i-C)/2,i=C}s[0]=b;for(var c=1; c<s.length-1; c++)s[c]=i;s[s.length-1]=m,function($, f, n, t){for(var r=0; r<f.length; r++){for(var i=f[r],a=n[r+1].$f,e=Number.MAX_VALUE,u=0; u<r+1; u++){var h=n[u].$f1;e=Math.min(e,h.$skb(a))}var o=t[r]-e;$.$m19(i,o,$.$f9.$uNa),n[r+1].$f.$rlb(o),n[r+1].$f1.$rlb(o)}}(f,a,u,s)}}function I(f, n, t, r){var i=new $.C.WFB.$b(0,Number.MAX_VALUE,Number.MAX_VALUE),a=new $.C.WFB.$b(0,Number.MAX_VALUE,-Number.MAX_VALUE);if(null===t){var e=$.T.DUC.$f,u=$.T.YFB.$b(f.$f9.$NCa);return i.$sFb(0,Number.MAX_VALUE,e-u/2-r),a.$sFb(0,Number.MAX_VALUE,e+u/2-r),new $.JC(i,a)}var h=new $.C.KHB.$d(n);f.$f1.$hjb(n)&&f.$f1.$gjb(n)&&h.$Ldb(f.$f1.$umb(n));for(var o=h.$HWa(); o.$Ti; o.$Cn()){var l=o.$fj,s=f.$m24(t,l,r,!0);i.$Ajb(s.$f),a.$zjb(s.$f1)}return new $.JC(i,a)}function U(f, n, t, r, i, a, e, u){for(var h=$.T.KGB.$h(n),o=Number.MAX_VALUE,l=-Number.MAX_VALUE,s=a,b=e,m=0; m<h.length; m++){var C=h[m],c=$.T.LGB.$e(t,C);o=Math.min(o,c),l=Math.max(l,c);var v=$.T.DUC.$m3(t,i,C);v>0?b=Math.max(b,e+v):(v=$.T.DUC.$m3(t,r,C),s=Math.min(s,a+v))}if(!u)return new $.JC(s,b);var T=new $.C.WFB.$b(0,Number.MAX_VALUE,Number.MAX_VALUE),g=new $.C.WFB.$b(0,Number.MAX_VALUE,-Number.MAX_VALUE);return T.$sFb(o,l,s),g.$sFb(o,l,b),new $.JC(T,g)}function H(f, n, t, r){var i=new $.C.LGB.$b(n.$f-50,n.$f1),a=$.T.DUC.$m3(n,i,t),e=$.T.OGB.$k(a,r),u=new $.C.OGB.$c(t,n),h=new $.C.OGB.$b(-Math.cos(e),-Math.sin(e));return h.$ydb(u.$jXa()),n.$Czb(h.$eC,h.$fC)}function G(f, n, t){return $.T.DUC.$m3(f,n,t)+Math.PI}function L($, f, n){if(function($, f, n){var t=f.$f1,r=n.$f1,i=t===r||null!==$.$f.$f1.$wgb(t)&&$.$f.$f1.$wgb(t)===r||null!==$.$f.$f1.$wgb(r)&&$.$f.$f1.$wgb(r)===t;i||(i=$.$f.$f11&&($.$f.$f10.$ld(r)&&$.$f.$m12(t,r)||$.$f.$f10.$ld(t)&&$.$f.$m12(r,t)));if(!i&&0===$.$f.$f5){var a=!$.$f.$f1.$hjb(t)||!$.$f.$f1.$gjb(t),e=!$.$f.$f1.$hjb(r)||!$.$f.$f1.$gjb(r);a&&e&&(i=F($,t,r))}return i}($,f,n))return!1;var t=W(f),r=W(n);return!(!t||!r)||(r?x(n,f.$p1,f.$p2):x(f,n.$p1,n.$p2))}function N(f, n, t){for(var r=!1,i=n.$f1,a=t.$f; null!==a; a=f.$f.$f1.$wgb(a))if(i===a){r=!0;break}var e=!1;if(0===f.$f.$f5){var u=t.$f,h=!f.$f.$f1.$hjb(i)||!f.$f.$f1.$gjb(i),o=!f.$f.$f1.$hjb(u)||!f.$f.$f1.$gjb(u);h&&o&&f.$f.$f11&&(e=F(f,i,u))}return!r&&!e&&function(f, n){if(!W(n))return function(f, n, t){return t>$.JHA.$m5(f.$f2,n)}(f,n.$p1,n.$p2);return $.T.KGB.$o(f.$f2,O(n),0)}(t,n)}function F($, f, n){if($.$f.$f11)for(var t=$.$f.$f1.$VEb(f,n); null!==t;){if($.$f.$f10.$ld(t))return!0;t=$.$f.$f1.$wgb(t)}return!1}function O(f){var n=f.$f2.$m38(f.$f1);return new $.C.NGB.$c(n.$Ri-f.$f.left,n.$Si-f.$f.top,n.$gk+f.$f.left+f.$f.right,n.$Ck+f.$f.top+f.$f.bottom)}function W(f){return null!==f.$f&&f.$f!==$.T.VXC.ZERO_HALO}function x(f, n, t){if(null!==f.$f){var r=O(f),i=r.$MQ,a=i.$Czb(r.$f3,r.$f4),e=new $.C.LGB.$b(Math.max(i.$f,Math.min(a.$f,n.$f)),Math.max(i.$f1,Math.min(a.$f1,n.$f1)));return new $.C.OGB.$c(n,e).$jXa()<t}return $.T.LGB.$e(f.$p1,n)<=f.$p2+t}function y($){return 0===$.$BC&&-1===$.$CC||0===$.$BC&&1===$.$CC||-1===$.$BC&&0===$.$CC||1===$.$BC&&0===$.$CC}function J(f){var n,t,r,i;if(0===f.$BC&&-1===f.$CC)n=f.$DN,t=f.$EN-f.$CK,r=f.$CK,i=f.$DF;else if(0===f.$BC&&1===f.$CC)n=f.$DN-f.$DF,t=f.$EN,r=f.$CK,i=f.$DF;else if(1===f.$BC&&0===f.$CC)n=f.$DN,t=f.$EN,r=f.$DF,i=f.$CK;else{if(-1!==f.$BC||0!==f.$CC)return null;n=f.$DN-f.$DF,t=f.$EN-f.$CK,r=f.$DF,i=f.$CK}return new $.C.NGB.$c(n,t,i,r)}function X($, f, n){return function($, f, n, t){return t<$?t-$:f<n?n-f:0}(n?$.$f:$.$f1,n?$.$f+$.$f3:$.$f1+$.$f4,n?f.$f:f.$f1,n?f.$f+f.$f3:f.$f1+f.$f4)}function P(f, n, t, r, i, a, e, u){var h=$.JHA.$m12(f,t,n,r,i,a);return h=Math.min(h,$.JHA.$m12(f,t,n,r,e,u)),h=Math.min(h,$.JHA.$m12(i,e,a,u,f,n)),h=Math.min(h,$.JHA.$m12(i,e,a,u,t,r))}function K(f, n){if(null!==$.T.FGB.$b(f,n))return 0;var t=$.JHA.$m3(f,n.$fia);return t=Math.min(t,$.JHA.$m3(f,n.$Ena)),t=Math.min(t,$.JHA.$m3(n,f.$fia)),t=Math.min(t,$.JHA.$m3(n,f.$Ena))}function V(f, n, t){var r=f.$f.$Agb(t),i=new $.C.LGB.$b(r.$f-50,r.$f1),a=$.T.DUC.$m3(r,i,n);return a=(a%(2*Math.PI)+2*Math.PI)%(2*Math.PI)}var S=f.lang.ClassDefinition,z=(f.lang.InterfaceDefinition,f.lang.AttributeDefinition,f.lang.EnumDefinition,f.lang.StructDefinition,f.lang.Abstract,f.lang.module),Y=(f.lang.delegate,f.lang.Boolean),R=f.lang.Number,k=(f.lang.Object,f.lang.Void,f.lang.String,f.lang.decorators.Type),q=f.lang.decorators.OptionArgs,Z=f.lang.decorators.SetterArg;f.lang.addMappings("yFiles-for-HTML-Complete-2.5.0.1 (Build 4531dbdf9dc6)",{_$_yne:["edgeBundling","$oga"],_$_zne:["nodeComparer","$pga"],_$_pgf:["fromSketchMode","$fqa"],_$_ntf:["nodeLabelSpacing","$kxa"],get _$_eyf(){return["groupSizingPolicy","$Nza",k("yfiles._R.C.EWC",5)]},_$_xdg:["considerNodeLabels","$LCa"],get _$_ydg(){return["nodeLabelingPolicy","$MCa",k("yfiles._R.C.LVC",5)]},_$_zdg:["preferredRootWedge","$NCa"],_$_qtg:["defaultNodeComparator","$TKa"],_$_oyg:["integratedNodeLabeling","$uNa"],get _$_ado(){return["CactusGroupLayout","DUC",q(Z("fromSketchMode"),Z("nodeLabelSpacing"),Z("nodeComparer"),Z("considerNodeLabels"),Z("nodeLabelingPolicy","yfiles._R.C.LVC"),Z("groupSizingPolicy","yfiles._R.C.EWC"),Z("integratedNodeLabeling"),Z("preferredRootWedge"),Z("labeling"),Z("selfLoopRouter"),Z("parallelEdgeRouter"),Z("componentLayout"),Z("subgraphLayout"),Z("hideGroupsStage"),Z("orientationLayout"),Z("orientationLayoutEnabled"),Z("layoutOrientation","yfiles._R.C.GVC"),Z("selfLoopRouterEnabled"),Z("labelingEnabled"),Z("hideGroupsStageEnabled"),Z("componentLayoutEnabled"),Z("parallelEdgeRouterEnabled"),Z("subgraphLayoutEnabled"))]},_$$_zab:["yfiles.layout","yfiles._R.T","yfiles._R.C"]});var Q=["Node label spacing may not be negative","Invalid node labeling policy: ","Invalid group sizing policy: ","Wedge must have positive area","Wedge can't be larger than 360 degrees","CactusGroupLayout","CollapsedSubtreeRootsDpKey","ParentOverlapRatioDpKey","Collision detected","There cannot be less than 0 labels for a node","Invalid group sizing policy","InvalidOperationError"];z("_$$_zab",function(f){f._$_ado=new S(function(){return{$extends:$.C.UXC,constructor:function(){$.C.UXC.call(this),this.$f34=new $.T.DUC.T1(this),this.$f11=this.$f34,this.$MNa=!1,this.$iSa=!1,this.$LNa=!1,this.$f6=new $.C.PUC(.95,.5),this.$f6.$cxa=1,this.$f6.$pPa.$aQ=!0,this.$f18=$.T.DIB.$n()},$f:null,$f3:null,$f9:1,$f21:null,$f31:null,$f4:null,$f18:null,$f7:null,$f25:null,$f20:null,$f42:null,$f47:null,$f51:null,$f52:null,$f6:null,$f46:!1,$f35:!1,$f36:!1,$f10:!1,$f12:!1,$f17:!1,$f19:!1,$f27:!1,$f48:!1,$f54:!0,$f53:!0,$f40:!0,$f41:0,$f5:0,$f13:1,$f24:Math.PI,$f22:1,$f16:1,$f8:null,$f1:null,$f2:null,$f15:!1,$f26:!1,$f34:null,$f11:null,$f14:4,_$_pgf:{get:function(){return this.$f35},set:function($){this.$f35=$}},_$_ntf:{get:function(){return this.$f14},set:function(f){if(!(f>=0))throw $.MG.$m18(Q[0]);this.$f14=f}},_$_zne:{get:function(){return this.$f11},set:function($){this.$f11=$}},_$_xdg:{get:function(){return this.$f54},set:function($){this.$f54=$}},_$_ydg:{get:function(){return this.$f22},set:function(f){switch(f<<24>>24){case 0:case 2:case 1:this.$f22=f<<24>>24;break;default:throw $.MG.$m18(Q[1]+(f<<24>>24))}}},_$_eyf:{get:function(){return this.$f16},set:function(f){switch(f<<24>>24){case 0:case 1:case 3:this.$f16=f<<24>>24;break;default:throw $.MG.$m18(Q[2]+(f<<24>>24))}}},_$_oyg:{get:function(){return this.$f53},set:function($){this.$f53=$}},_$_zdg:{get:function(){return $.T.YFB.$a(this.$f24)},set:function(f){if(f>360)throw $.MG.$m18(Q[4]);if(f<=0)throw $.MG.$m18(Q[3]);this.$f24=$.T.YFB.$b(f)}},_$_yne:{get:function(){return this.$f6}},_$_qtg:{get:function(){return this.$f34}},"$m32!":function($){this.$f9=$},"$m5!":function(){return this.$f3},"$m11!":function(){return this.$f18},"$m13!":function(){return this.$f21},"$m16!":function(){return this.$f31},"$m14!":function(){return this.$f25},"$m1!":function(){return this.$f},"$m12!":function(){return this.$f20},"$m19!":function(){return this.$f46},"$m18!":function(){return this.$f41},$xob:function(f){var n=$.T.A.$d(f);this.$f=f,function(f){switch(f.$f16){case 0:f.$f10=!0,f.$f12=!1,f.$f17=!1;break;case 1:f.$f10=!1,f.$f12=!0,f.$f17=!1;break;case 3:f.$f10=!1,f.$f12=!1,f.$f17=!0;break;default:throw $.MG.$m28(Q[10])}}(this),function(f){var n=f.$f.$Dmb($.O.$p140);if(null===n)return f.$f41=.2,void(f.$f46=!1);f.$f46=!0,f.$f20=$.T.DIB.$n();for(var t=f.$f.$TZa(); t.$Ti; t.$Cn()){var r=t.$fj,i=n.$pd(r);i=Math.max(0,Math.min(i,1)),f.$f20.$xd(r,i)}}(this),this.$f3=new $.C.GIB(f);var t=this.$f3.$fjb(this.$f3.$CE);if(null!==t&&0!==t.$f1){var a;1===t.$f1?a=t.$mYa():(!function(f){var n=f.$f.$Dmb($.O.$p35),t=f.$f.$Dmb($.O.$p3),r=f.$f.$Dmb($.O.$p35),i=null!==n,a=null!==t,e=null!==r;i&&(f.$f8=$.T.DIB.$n()),a&&(f.$f1=$.T.DIB.$n()),e&&(f.$f2=$.T.DIB.$n());for(var u=f.$f.$TZa(); u.$Ti; u.$Cn()){var h=u.$fj;i&&f.$f8.$qu(h,n.$No(h)),a&&f.$f1.$td(h,t.$ld(h)),e&&f.$f2.$qu(h,r.$No(h))}}(this),a=function(f, n){f.$f15=!0,f.$f26=!0;for(var t=$.T.DIB.$n(),r=$.T.DIB.$n(),i=$.T.DIB.$n(),a=f.$f.$Dmb($.O.$p35),e=f.$f.$Dmb($.O.$p3),u=f.$f.$Dmb($.O.$p4),h=$.T.GIB.$c(f.$f),o=f.$f.$HYa(),l=f.$f.$TZa(); l.$Ti; l.$Cn()){var s=l.$fj;t.$qu(s,h?a.$No(s):o),r.$td(s,h&&e.$ld(s)),i.$qu(s,null===u?s:null===u.$No(s)?s:u.$No(s))}for(t.$qu(o,null),r.$td(o,!0),i.$qu(o,o),l=n.$HWa(); l.$Ti; l.$Cn())s=l.$fj,t.$qu(s,o);return f.$f.$zCb($.O.$p35,t),f.$f.$zCb($.O.$p3,r),f.$f.$zCb($.O.$p4,i),f.$f3.$TXa(),f.$f3=new $.C.GIB(f.$f),o}(this,t)),function(f){f.$f4=$.T.DIB.$n(),f.$f5=Number.MAX_VALUE;for(var n=f.$f3.$fjb(f.$f3.$CE).$HWa(); n.$Ti; n.$Cn()){var t=n.$fj;f.$f5=Math.min(f.$f5,r(f,t))}for(n=f.$f.$TZa(); n.$Ti; n.$Cn()){var i=n.$fj;f.$f4.$xd(i,f.$f4.$pd(i)/f.$f5)}}(this),function(f){f.$f36=!1;var n=f.$f.$Dmb($.O.$p167);if(null!==n){f.$f31=$.T.DIB.$n(),f.$f21=$.T.DIB.$n(),f.$f36=!0;for(var t=f.$f.$TZa(); t.$Ti; t.$Cn()){var r=t.$fj,i=n.$ld(r);f.$f31.$td(r,i),i&&b(f,r)}}}(this),w(this,a),i(this,a);var e=new $.IHA(this);e.$m5(a);var u=!1;if(this.$f10)if(this.$f36){u=!0;for(var h=t.$HWa(); h.$Ti; h.$Cn()){var o=h.$fj;if(this.$f31.$ld(o)){u=!1;break}}}else u=!0;if(!n.$DWa()&&(this.$f12||u)&&!$.T.DUC.$f5){var s=f.$Jfb(B(this)),m=new $.C.IUC(f),c=$.T.DIB.$n();this.$f7=$.T.DIB.$n(),function $(f, n, t){var r;if(t.$xd(n,f.$f18.$pd(n)),f.$m20(n))r=l(f,n);else{for(var i=0,a=f.$f3.$fjb(n).$HWa(); a.$Ti; a.$Cn()){var e=a.$fj;i=Math.max(i,$(f,e,t))}r=Math.max(l(f,n),i*f.$m40(n))}return f.$f7.$xd(n,r),r}(this,a,c);for(h=f.$TZa(); h.$Ti; h.$Cn()){o=h.$fj;c.$xd(o,this.$f18.$pd(o))}e.$m4(a),f.$Jfb(B(this))>s&&(m.$Obb(),this.$f18=c)}C(this),d(this)}else this.$f3.$TXa()},"$m45!":function($, f){if(null===f)return!1;var n=this.$f.$Agb($),t=this.$f.$Agb(f),r=Math.abs(n.$f-t.$f),i=Math.abs(n.$f1-t.$f1);return r<1&&i<1},"$m39!":function(f){!function(f, n){u(f,n,0,0,$.T.DUC.$f-f.$f24/2,!0)}(this,f),this.$f53&&this.$m6()},"$m40!":function(f){var n=this.$m25(f);return 0===n?0:1+($.T.DUC.$f6-1)/n},"$m6!":function(){for(var $=this.$f.$TZa(); $.$Ti; $.$Cn()){s(this,$.$fj)}},"$m25!":function($){if(this.$m20($))return 0;for(var f=0,n=this.$f3.$fjb($).$HWa(); n.$Ti; n.$Cn())f=Math.max(f,this.$m25(n.$fj));return f+1},"$m24!":function($){if(null===$)return null;for(; !this.$m20($);)$=this.$f3.$fjb($).$mYa();return $},"$m20!":function($){return!this.$f3.$hjb($)||!this.$f3.$gjb($)},$static:{COLLAPSED_SUBTREE_ROOTS_DP_KEY:null,PARENT_OVERLAP_RATIO_DP_KEY:null,$f1:!1,$f3:.5,$f6:1.25,$f5:!0,$f4:Math.PI,$f:3*Math.PI/2,$f2:4,T3:new S(function(){return{$final:!0,$with:[$.C.XIB],constructor:function($){this.$f=$},"$Th!":function(f, n){var t=f,r=n,i=Math.min(this.$f.$f.$Jfb(t),this.$f.$f.$Bgb(t)),a=Math.min(this.$f.$f.$Jfb(r),this.$f.$f.$Bgb(r));return $.T.XHB.$i(a,i)},$f:null}}),"$m2!":function(f, n){$.OE.$m3(f,n);for(var t=new $.C.EIB.$a,r=!1,i=0; i<f.$Tb; i++)r&&(t.$m8($.PE.$m13(f,i)),i--),r=!r;for(; !t.$HXa();)f.$Nh(t.$m())},T4:new S(function(){return{$final:!0,$with:[$.C.XIB],constructor:function(){},"$Th!":function(f, n){var t=f.$Sl,r=n.$Sl;return $.T.XHB.$i(t.$DF,r.$DF)}}}),T2:new S(function(){return{$final:!0,$with:[$.C.XIB],constructor:function(){},"$Th!":function(f, n){var t=f.$Sl,r=n.$Sl;return $.T.XHB.$i(t.$DF,r.$DF)}}}),"$m3!":function($, f, n){var t=$.$f-f.$f,r=$.$f1-f.$f1,i=$.$f-n.$f,a=$.$f1-n.$f1,e=t*i+r*a,u=t*a-r*i;return Math.atan2(u,e)},T:new S(function(){return{$final:!0,$with:[$.C.XIB],constructor:function($, f, n, t){this.$f2=$,this.$f=t,this.$f1=f,this.$f3=n},$f:null,$f1:null,$f3:0,"$Th!":function(f, n){var t=f,r=n,i=new $.C.OGB.$b(-Math.cos(this.$f3),-Math.sin(this.$f3)),a=this.$f.$Agb(this.$f1);this.$f2.$m45(t,this.$f1)&&!this.$f2.$m20(t)&&(t=this.$f2.$m24(t));var e=this.$f.$Agb(t);this.$f2.$m45(r,this.$f1)&&!this.$f2.$m20(r)&&(r=this.$f2.$m24(r));var u=this.$f.$Agb(r),h=a.$Czb(i.$eC,i.$fC),o=$.T.DUC.$m3(a,h,e);o=(o%(2*Math.PI)+2*Math.PI)%(2*Math.PI);var l=$.T.DUC.$m3(a,h,u);return l=(l%(2*Math.PI)+2*Math.PI)%(2*Math.PI),$.T.XHB.$i(o,l)},$f2:null}}),T1:new S(function(){return{$final:!0,$with:[$.C.XIB],constructor:function($){this.$f=$},"$Th!":function(f, n){var t=f,r=n,i=$.T.XHB.$i(this.$f.$f4.$pd(t),this.$f.$f4.$pd(r));return 0===i&&(i=$.T.XHB.$m(this.$f.$m25(t),this.$f.$m25(r))),i},$f:null}}),$clinit:function(){$.T.DUC.COLLAPSED_SUBTREE_ROOTS_DP_KEY=$.O.$m1(Y.$class,$.C.DUC.$class,Q[5],Q[6]),$.T.DUC.PARENT_OVERLAP_RATIO_DP_KEY=$.O.$m1(R.$class,$.C.DUC.$class,Q[5],Q[7])}}}})}),z("yfiles._R",function(f){f.IHA=new S(function(){return{$final:!0,constructor:function(f){this.$f9=f,this.$f=this.$f9.$m1(),this.$f1=this.$f9.$m5(),this.$f10=this.$f9.$m16(),this.$f7=this.$f9.$m13(),this.$f13=this.$f9.$LCa,this.$f3=this.$f9.$m11(),this.$f8=this.$f9.$MCa<<24>>24,this.$f4=this.$f9.$m14(),this.$f11=this.$f9.$f36,this.$f14=this.$f9.$m19(),this.$f6=this.$f9.$m12(),this.$f12=this.$f9.$m18(),this.$f5=this.$f9.$Nza<<24>>24,this.$f2=this.$f.$Dmb($.O.$p2)},$f9:null,$f1:null,$f:null,$f2:null,$f10:null,$f7:null,$f3:null,$f4:null,$f6:null,$f12:0,$f13:!1,$f11:!1,$f14:!1,$f8:0,$f5:0,"$m4!":function(f){D(this,f,$.IHA.$f2,$.IHA.$f1)},"$m18!":function(f, n, t){var r=new $.C.BAD,i=new $.C.CIB(this.$f),a=new $.C.KHB.$a;if(t)for(var e=this.$f.$TZa(); e.$Ti; e.$Cn()){var u=e.$fj;this.$f1.$hjb(u)&&this.$f1.$gjb(u)||(a.$m6(u),i.$odb(u))}r.$qea=f,r.$IX=3,r.$nna=!0;var h=this.$f.$Dmb($.O.$p3);if(this.$f.$erb($.O.$p3),r.$Lp(this.$f),r.$jba=-this.$f.$whb(n),r.$kba=-this.$f.$xhb(n),r.$IX=4,null!==h&&this.$f.$zCb($.O.$p3,h),t){i.$qYa();for(e=a.$HWa(); e.$Ti; e.$Cn()){var o=e.$fj,l=p(this,o);if(null!==l){var s=this.$f.$Agb(l),b=this.$f.$Jfb(l)/2+Math.min(this.$f.$Jfb(o),this.$f.$Bgb(o))/2*(1-(this.$f14?this.$f6.$pd(o):this.$f12)),m=this.$f3.$pd(o),C=new $.C.OGB.$b(b*Math.cos(m),b*Math.sin(m));this.$f.$FAb(o,s.$Czb(C.$eC,C.$fC))}}}},"$m2!":function(){for(var f=new $.C.EIB.$a,n=this.$f1.$fjb(this.$f1.$CE).$HWa(); n.$Ti; n.$Cn()){var t=n.$fj;f.$Ldb(this.$m9(t))}return f},"$m9!":function(f){var n=new $.C.EIB.$a;if(null===f)return n;var t=new $.C.KHB.$d(f);this.$f1.$hjb(f)&&t.$Mdb(this.$f1.$umb(f).$HWa());for(var r=t.$HWa(); r.$Ti; r.$Cn()){var i=r.$fj,a=!(this.$f1.$hjb(i)&&this.$f1.$gjb(i));if(a||!this.$f11||!this.$f7.$ld(i)){var e=null;if(null!==this.$f2&&(e=this.$f2.$No(i)),n.$m6(new $.IHA.T(this.$f,i,e)),a&&this.$f13&&2!==this.$f8)for(var u=this.$f.$m41(i),h=0; h<u.length; h++)n.$m6(new $.IHA.T1(this.$f,u[h],i))}}return n},"$m12!":function($, f){for(; null!==$;){if($===f)return!0;$=this.$f1.$wgb($)}return!1},"$m5!":function($){if(this.$f1.$hjb($)&&this.$f1.$gjb($)){for(var f=this.$f1.$fjb($).$HWa(); f.$Ti; f.$Cn())this.$m5(f.$fj);E(this,$,null!==this.$f1.$wgb($))}},"$m22!":function(f, n, t){if(null===n){var r=$.T.DUC.$f,i=$.T.YFB.$b(this.$f9.$NCa),a=r-i/2-t,e=r+i/2-t;return new $.JC(a,e)}var u=this.$m24(n,f,t,!1),h=$.YE.$m13(u.$f),o=$.YE.$m13(u.$f1);if(this.$f1.$hjb(f)&&this.$f1.$gjb(f))for(var l=this.$f1.$fjb(f).$HWa(); l.$Ti; l.$Cn()){var s=l.$fj,b=this.$m22(s,n,t);a=$.YE.$m13(b.$f),e=$.YE.$m13(b.$f1);h=Math.min(h,a),o=Math.max(o,e)}return new $.JC(h,o)},"$m24!":function(f, n, t, r){var i,a,e=new $.C.WFB.$b(0,Number.MAX_VALUE,Number.MAX_VALUE),u=new $.C.WFB.$b(0,Number.MAX_VALUE,-Number.MAX_VALUE),h=!this.$f1.$hjb(n)||!this.$f1.$gjb(n),o=this.$f.$Agb(n),l=this.$f.$Agb(f),s=function(f, n, t){var r=$.T.LGB.$e(f,n);if(r<t)return new $.JC(null,null);if(r-t<1e-4)return new $.JC(f,f);var i=Math.acos(t/r),a=Math.atan2(f.$f1-n.$f1,f.$f-n.$f),e=a+i,u=a-i,h=new $.C.LGB.$b(n.$f+t*Math.cos(e),n.$f1+t*Math.sin(e)),o=new $.C.LGB.$b(n.$f+t*Math.cos(u),n.$f1+t*Math.sin(u));return new $.JC(h,o)}(l,o,function(f, n, t){var r=Math.max(f.$f.$Jfb(n),f.$f.$Bgb(n))/2;if(null!==f.$f2&&$.T.VXC.$c(f.$f,n)!==$.T.VXC.ZERO_HALO){var i=$.T.VXC.$d(f.$f,n),a=i.$f3,e=i.$f4,u=new $.C.LGB.$b(i.$f,i.$f1),h=new $.C.LGB.$b(i.$f+a,i.$f1),o=new $.C.LGB.$b(i.$f+a,i.$f1+e),l=new $.C.LGB.$b(i.$f,i.$f1+e);r=Math.max(Math.max($.T.LGB.$e(t,u),$.T.LGB.$e(t,h)),Math.max($.T.LGB.$e(t,o),$.T.LGB.$e(t,l)))}return r}(this,n,o)),b=s.$f,m=s.$f1,C=null===b;if(C)i=0,a=2*Math.PI;else{var c=new $.C.LGB.$b(l.$f-Math.cos(t),l.$f1-Math.sin(t));i=G(l,c,b),a=G(l,c,m)}if(r){var v=Math.min(this.$f.$Jfb(n),this.$f.$Bgb(n))/2,T=$.T.LGB.$e(l,o),g=Math.max(0,T-v),w=T+v;e.$Ajb(new $.C.WFB.$b(g,w,i)),u.$zjb(new $.C.WFB.$b(g,w,a))}if(!C&&h&&this.$f13&&2!==this.$f8){for(var M=this.$f.$ymb(n),d=i,B=a,A=0; A<M.length; A++){var D=M[A],p=U(0,D.$xl.$jy(D.$Sl.$mD,this.$f.$m38(n),D.$wm),l,b,m,i,a,r);r?(e.$Ajb(p.$f),u.$zjb(p.$f1)):(d=Math.min(d,$.YE.$m13(p.$f)),B=Math.max(B,$.YE.$m13(p.$f1)))}i=d,a=B}return r?new $.JC(e,u):new $.JC(i,a)},"$m19!":function(f, n, t){var r=this.$f1.$wgb(f),i=new $.C.KHB.$d(f);null===r&&(r=f,i.$Oh(f)),this.$f1.$hjb(f)&&this.$f1.$gjb(f)&&i.$Ldb(this.$f1.$umb(f));for(var a=i.$HWa(); a.$Ti; a.$Cn()){var e=a.$fj;this.$m23(r,e,n,t)}},"$m23!":function(f, n, t, r){(t>2*Math.PI||t<-2*Math.PI)&&(t=(t%(2*Math.PI)+2*Math.PI)%(2*Math.PI)),this.$f3.$xd(n,$.T.OGB.$k(this.$f3.$pd(n),t));var i=this.$f.$Agb(f),a=this.$f.$Agb(n);a=H(0,i,a,t);var e=(!this.$f1.$hjb(n)||!this.$f1.$gjb(n))&&1===this.$f8||0===this.$f8;if(r&&e){var u=this.$f.$ymb(n);if(u.length>0){for(var h,o=$.GF.$m12(u.length),l=$.GF.$m12(u.length),s=0; s<u.length; s++)h=u[s],l[s]=h.$xl.$jy(h.$Sl.$mD,this.$f.$m38(n),h.$wm),o[s]=H(0,i,l[s].$AK,t);this.$f.$FAb(n,a);for(s=0; s<u.length; s++){h=u[s];var b=l[s],m=b.$AK,C=new $.C.OGB.$b(b.$BC,b.$CC),c=new $.C.LGB.$b(m.$f+50,m.$f1),v=$.T.DUC.$m3(m,c,m.$Czb(C.$eC,C.$fC));v=$.T.OGB.$k(v,t),C=new $.C.OGB.$b(Math.cos(v),Math.sin(v));var T=new $.C.KGB.$d(o[s],b.$mD,C);h.$wm=h.$xl.$Uw(T,this.$f.$m38(n))}}else this.$f.$FAb(n,a)}else this.$f.$FAb(n,a)},"$m11!":function(f, n){if(this.$f1.$hjb(f)&&this.$f1.$gjb(f)){for(var t=this.$f1.$fjb(f),r=$.GF.$m12(t.$f1),i=t.$HWa(); i.$Ti; i.$Cn()){var a=i.$fj;r[this.$f4.$To(a)]=a}for(var e=0; e<r.length; e++)this.$m11(r[e],n)}else n.$m6(f)},"$m14!":function($, f){var n=this.$f.$Agb($),t=n.$f+f.$eC,r=n.$f1+f.$fC;if(this.$f.$BFb($,t,r),this.$f1.$hjb($)&&this.$f1.$gjb($))for(var i=this.$f1.$fjb($).$HWa(); i.$Ti; i.$Cn()){var a=i.$fj;this.$m14(a,f)}},$static:{$f:.05,$f2:0,$f1:2,"$m2!":function(f, n, t){var r=f.$m41(n);if(0===r.length)return 0;var i=new $.KE.$c1($.LE.$m3(r));$.T.DUC.$m2(i,new $.IHA.T4);for(var a=0,e=-t,u=0; u<r.length; u++)e+=r[u].$Sl.$CK,e+=t;var h=-.5*e;for(u=0; u<r.length; u++){var o=r[u],l=o.$Sl.$DF,s=h+o.$Sl.$CK,b=Math.max(Math.abs(h),Math.abs(s)),m=Math.sqrt(Math.pow(.55*l,2)+Math.pow(b,2));a=Math.max(a,m),h=s+t}return a},T4:new S(function(){return{$final:!0,$with:[$.C.XIB],constructor:function(){},"$Th!":function(f, n){var t=f.$Sl,r=n.$Sl;return $.T.XHB.$i(t.$DF,r.$DF)}}}),"$m!":function(f, n){var t=f.$Dmb($.O.$p68);if(null!==t){var r=t.$No(n);if(null!==r)return Math.max(r.$f4,r.$f3)/2}return 0},T3:new S(function(){return{$final:!0,$with:[$.C.EGB],constructor:function(f){this.$f1=f,this.$f2=[0],this.$f=new $.IHA.T2(this.$f1,this.$f2)},$f3:null,$f4:null,$f:null,$f2:null,"$ww!":function(f, n){if(this.$f.$ww(f,n),0!==this.$f2[0])throw this.$f2[0]=0,this.$f3=f,this.$f4=n,$.MG.$m28(Q[8])},$f1:null}}),T2:new S(function(){return{$final:!0,$with:[$.C.EGB],constructor:function($, f){this.$f=$,this.$f1=null,this.$f2=f},$f2:null,$f1:null,"$ww!":function(f, n){var t,r,i,a,e,u=!1;if(f instanceof $.IHA.T&&n instanceof $.IHA.T)u=L(this,f,n);else if(this.$f.$f13)if(f instanceof $.IHA.T1&&n instanceof $.IHA.T1)t=this,i=n,a=(r=f).$f,e=i.$f,u=!(a===e||!$.T.KGB.$n(r.$f2,i.$f2,.001))&&!(0===t.$f.$f5&&F(t,a,e));else{var h=f instanceof $.IHA.T1?f:n;u=N(this,f instanceof $.IHA.T?f:n,h)}u&&(null!==this.$f2&&this.$f2[0]++,null!==this.$f1&&this.$f1.$m6(new $.JC(f,n)))},$f:null}}),T:new S(function(){return{$final:!0,$with:[$.C.AGB],constructor:function($, f, n){this.$f2=$,this.$f1=f,this.$f=n},$f2:null,$f:null,$f1:null,"$zl!":{get:function(){return null!==this.$f?O(this):this.$f2.$wmb(this.$f1)}},"$p2!":{get:function(){return this.$f2.$Jfb(this.$f1)/2}},"$p1!":{get:function(){return this.$f2.$Agb(this.$f1)}}}}),T1:new S(function(){return{$final:!0,$with:[$.C.AGB],constructor:function($, f, n){this.$f1=f,this.$f2=f.$xl.$jy(f.$Sl.$mD,$.$m38(n),f.$wm),this.$f=n},$f1:null,$f2:null,$f:null,"$zl!":{get:function(){return this.$f2.$zl}}}})}}})}),z("yfiles._R",function(f){f.JHA=new S(function(){return{$final:!0,constructor:function(){},$static:{$f:.001,"$m6!":function(f, n){return y(n)?$.JHA.$m9(f,J(n)):$.T.KGB.$o(n,f,$.JHA.$f)?0:function($, f){for(var n=$.$f+$.$f3,t=$.$f1+$.$f4,r=Number.MAX_VALUE,i=0; i<f.length; i++){var a=f[i],e=f[(i+1)%f.length];r=Math.min(r,P(a.$f,a.$f1,e.$f,e.$f1,$.$f,$.$f1,$.$f,t)),r=Math.min(r,P(a.$f,a.$f1,e.$f,e.$f1,n,$.$f1,n,t)),r=Math.min(r,P(a.$f,a.$f1,e.$f,e.$f1,$.$f,$.$f1,n,$.$f1)),r=Math.min(r,P(a.$f,a.$f1,e.$f,e.$f1,$.$f,t,n,t))}return r}(f,$.T.KGB.$h(n))},"$m9!":function(f, n){if($.T.NGB.$d(f,n))return 0;var t=X(f,n,!1),r=X(f,n,!0);return Math.sqrt(t*t+r*r)},"$m4!":function(f, n){var t=$.T.KGB.$h(f),r=K(new $.C.FGB(t[0],t[1]),n);return r=Math.min(r,K(new $.C.FGB(t[1],t[2]),n)),r=Math.min(r,K(new $.C.FGB(t[2],t[3]),n)),r=Math.min(r,K(new $.C.FGB(t[3],t[0]),n))},"$m5!":function(f, n){if(y(f))return function(f, n){if(f.$ffb(n))return 0;var t=Number.MAX_VALUE;return t=Math.min(t,$.JHA.$m12(f.$f,f.$f,f.$f1,f.$f1+f.$f4,n.$f,n.$f1)),t=Math.min(t,$.JHA.$m12(f.$f+f.$f3,f.$f+f.$f3,f.$f1,f.$f1+f.$f4,n.$f,n.$f1)),t=Math.min(t,$.JHA.$m12(f.$f,f.$f+f.$f3,f.$f1,f.$f1,n.$f,n.$f1)),t=Math.min(t,$.JHA.$m12(f.$f,f.$f+f.$f3,f.$f1+f.$f4,f.$f1+f.$f4,n.$f,n.$f1))}(J(f),n);if($.T.KGB.$k(f,n,$.JHA.$f))return 0;for(var t=$.T.KGB.$h(f),r=Number.MAX_VALUE,i=0; i<t.length; i++){var a=t[i],e=t[(i+1)%t.length];r=Math.min(r,$.JHA.$m12(a.$f,e.$f,a.$f1,e.$f1,n.$f,n.$f1))}return r},"$m12!":function($, f, n, t, r, i){var a=0,e=(r-=$)*(f-=$)+(i-=n)*(t-=n);e>0&&(a=(e=(r=f-r)*f+(i=t-i)*t)<=0?0:e*e/(f*f+t*t));var u=r*r+i*i-a;return u<0?0:Math.sqrt(u)},"$m3!":function(f, n){var t=f.$fia.$f,r=f.$Ena.$f,i=f.$fia.$f1,a=f.$Ena.$f1,e=n.$f,u=n.$f1;return $.JHA.$m12(t,r,i,a,e,u)}}}})})}(y.lang.module("yfiles._R"),y,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self);export default y;