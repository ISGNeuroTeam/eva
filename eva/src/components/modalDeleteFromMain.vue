<!-- Модальное окно для создания дашборда -->

<template>
  <v-dialog v-model="active" width="550" persistent @keydown="checkEsc($event)">
    <div class="delete-modal-block">
      <v-card :style="{ background: theme.$main_bg }">
        <v-card-text class="headline">
          <div class="create-title" :style="{ color: theme.$title }">
            Вы точно хотите удалить
            <p>
              {{ nameFrom }}
            </p>
            ?
          </div>
        </v-card-text>
        <v-card-actions>
          <v-spacer />
          <v-btn
            small
            :color="theme.$primary_button"
            class="create-btn"
            @click="deleteBtn"
          >
            Удалить
          </v-btn>
          <v-btn
            small
            :color="theme.$primary_button"
            class="create-btn"
            @click="cancelModal"
          >
            Отмена
          </v-btn>
        </v-card-actions>
      </v-card>
    </div>
  </v-dialog>
</template>

<script>
export default {
  props: {
    modalFrom: null,
    nameFrom: null,
  },
  data() {
    return {};
  },
  computed: {
    theme: function () {
      return this.$store.getters.getTheme;
    },
    active: function () {
      // тут понимаем нужно ли открыть окно с созданием или нет
      return this.modalFrom;
    },
    name: function () {
      return this.nameFrom;
    },
  },
  methods: {
    deleteBtn: function () {
      this.$emit('deleteElem');
    },
    cancelModal: function () {
      // есл инажали на отмену создания
      this.$emit('closeModal'); // передаем в родителя чтобы выключили модалку
    },
    checkEsc: function (event) {
      if (event.code == 'Escape') {
        this.cancelModal();
      }
    },
    // changeStyle: function() {
    //   if (this.active) {
    //     let dialog = document.querySelector('.v-dialog');
    //     dialog.style.boxShadow = `0 3px 1px -2px ${this.color.border},0 2px 2px 0 ${this.color.border},0 1px 5px 0 ${this.color.border}`;
    //     dialog.querySelectorAll('.v-input__slot').forEach( item => {
    //       item.style.boxShadow = `0 3px 1px -2px ${this.color.border},0 2px 2px 0 ${this.color.border},0 1px 5px 0 ${this.color.border}`;
    //     })
    //     dialog.querySelectorAll('input').forEach( item => {
    //       item.style.color = this.color.text;
    //     })
    //   }
    // },
  },
};
</script>

<style lang="scss">
// подключаем стили для этого компонента

@import '../sass/modalDeleteFromMain.sass';
</style>
